import{r as s,u as g,j as e,e as j,T as w,a as v,I as d,S as E,B as c,Y as N,c as I,Z as S,D as A,$ as C,a0 as b,d as h,_ as m}from"./index-D1bn1UCx.js";import{V as B}from"./VendorLayout-Bea-PU2m.js";function R(){const p=[{field:"firstName",headerName:"First Name",width:200},{field:"lastName",headerName:"Last Name",width:200},{field:"email",headerName:"Email ID",width:200},{field:"phone",headerName:"Mobile No",width:200},{field:"role",headerName:"Role",width:200},{field:"actions",headerName:"Actions",width:150,sortable:!1,renderCell:a=>e.jsx(c,{children:e.jsx(d,{color:"error",onClick:()=>x(`/employee-details/${a.id}`),children:e.jsx(b,{})})})}],[u,l]=s.useState([]),[f,t]=s.useState(!1),[i,n]=s.useState(!1),x=g(),r=async()=>{try{t(!0);const{data:a}=await h.get("/api/v1/vendor/all-employee",{withCredentials:!0});l(a.employee)}catch(a){console.log(a),m.error("Internal server error")}finally{t(!1)}},y=async a=>{try{if(a===""){r();return}t(!0);const{data:o}=await h.post("/api/v1/vendor/search-employee",{search:a},{withCredentials:!0});l(o.users)}catch(o){console.log(o),m.error("Internal server error")}finally{t(!1)}};return s.useEffect(()=>{r()},[]),e.jsxs(B,{children:[e.jsx(j,{}),e.jsx(w,{variant:"h4",gutterBottom:!0,children:"All Employees"}),e.jsx(v,{variant:"outlined",placeholder:"Search Employee...",fullWidth:!0,onChange:a=>y(a.target.value),InputProps:{startAdornment:e.jsx(d,{position:"start",children:e.jsx(E,{})})}}),e.jsxs(c,{style:{height:400,width:"100%",marginTop:"20px"},children:[e.jsx(N,{alignItems:"flex-end",m:2,children:e.jsx(I,{onClick:()=>n(!0),startIcon:e.jsx(S,{}),variant:"contained",children:"Add Employee"})}),e.jsx(A,{rows:u,getRowId:a=>a._id,columns:p,pageSize:5,rowsPerPageOptions:[5,10,20],disableRowSelectionOnClick:!0,loading:f})]}),i&&e.jsx(C,{open:i,setOpen:n,fetchEmployees:r})]})}export{R as default};
