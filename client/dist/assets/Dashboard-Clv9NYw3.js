import{r as d,j as e,A as u,e as f,T as x,a as m,I as l,S as w,B as n,D as p,h as j,f as g,d as o}from"./index-D1bn1UCx.js";const D=[{field:"name",headerName:"Name",width:180},{field:"location",headerName:"Location",width:150},{field:"email",headerName:"Email ID",width:200},{field:"phone",headerName:"Mobile no",width:120},{field:"details",headerName:"Lead For",width:300},{field:"createdAt",headerName:"Date",width:150,renderCell:t=>{var s;return e.jsxs("p",{children:[j((s=t==null?void 0:t.row)==null?void 0:s.createdAt).format("DD-MM-YYYY")," "]})}},{field:"actions",headerName:"Actions",width:150,sortable:!1,renderCell:t=>e.jsx(n,{children:e.jsx(l,{color:"error",onClick:()=>C(t.row._id),children:e.jsx(g,{})})})}],C=t=>{alert(`Deleting lead with ID: ${t}`)};function N(){const[t,s]=d.useState([]),r=async()=>{const{data:a}=await o.get("/api/v1/admin/all-leads",{withCredentials:!0});a&&a.size>0&&s(a.leads)},h=async a=>{if(a.target.value==""){r();return}const c=a.target.value,{data:i}=await o.post("/api/v1/admin/search-leads",{search:c},{withCredentials:!0});i&&i.size>0&&s(i.leads)};return d.useEffect(()=>{r()},[]),e.jsxs(u,{children:[e.jsx(f,{}),e.jsx(x,{variant:"h4",gutterBottom:!0,children:"Leads"}),e.jsx(m,{variant:"outlined",placeholder:"Search Lead...",fullWidth:!0,onChange:a=>h(a),InputProps:{startAdornment:e.jsx(l,{position:"start",children:e.jsx(w,{})})}}),e.jsx(n,{style:{height:400,width:"100%",marginTop:"20px"},children:e.jsx(p,{rows:t,getRowId:a=>a._id,columns:D,pageSize:5,rowsPerPageOptions:[5,10,20],disableRowSelectionOnClick:!0,disableColumnSelector:!0})})]})}export{N as default};
