import{r as o,u as v,j as e,G as d,b as w,B as m,T as l,a as x,c as S,d as C,_ as p}from"./index-D1bn1UCx.js";const k="/assets/image-DfxlNkrP.png",L=()=>{const[i,f]=o.useState(""),[a,b]=o.useState("");o.useState(!1),o.useState("");const[y,u]=o.useState(!1),c=v(),j=async s=>{var n,g,h;s.preventDefault(),u(!0);try{if(a.trim().length<6)return;const{data:t}=await C.post("/api/v1/auth/login",{email:i,password:a});localStorage.setItem("userRole",t==null?void 0:t.role),localStorage.setItem("name",t==null?void 0:t.name),localStorage.setItem("email",i),p("Login Successfull",{icon:"✅",style:{borderRadius:"10px",background:"#333",color:"#fff"}}),c(`/${(n=t==null?void 0:t.role)==null?void 0:n.toLowerCase()}/dashboard`)}catch(r){console.log(r),u(!1),p((h=(g=r==null?void 0:r.response)==null?void 0:g.data)==null?void 0:h.message,{icon:"❌",style:{borderRadius:"10px",background:"#333",color:"#fff"}})}};return o.useEffect(()=>{const s=localStorage.getItem("userRole"),n=localStorage.getItem("name");s&&n&&c(`/${s}/dashboard`)},[]),e.jsxs(d,{container:!0,style:{minHeight:"100vh"},children:[e.jsxs(d,{item:!0,xs:12,sm:4,style:{backgroundColor:w,display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx(m,{sx:{width:"80%",bgcolor:"white",borderRadius:"16px",padding:"30px",textAlign:"center"},children:e.jsx(l,{variant:"h4",sx:{fontWeight:"bold",color:"black"},children:"Login Now to start your journey with us!!"})}),e.jsx(m,{sx:{position:"absolute",bottom:0,left:0},children:e.jsx("img",{alt:"login Image",src:k,width:200,height:200})})]}),e.jsx(d,{item:!0,xs:12,sm:8,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsxs(m,{sx:{width:"50%"},children:[e.jsx(l,{variant:"h4",gutterBottom:!0,children:"Welcome to Lead Management System"}),e.jsx(x,{name:"Email",type:"email",value:i,onChange:s=>f(s.target.value),label:"Email",variant:"outlined",fullWidth:!0,margin:"normal"}),e.jsx(x,{name:"Password",value:a,error:a.trim()!==""&&a.length<6,onChange:s=>b(s.target.value),label:"Password",variant:"outlined",type:"password",fullWidth:!0,margin:"normal",helperText:a.trim()!==""&&a.length<6?"Password Minimum Length is 6":""}),e.jsx(S,{variant:"contained",color:"primary",fullWidth:!0,disabled:y,sx:{marginTop:2},onClick:j,children:"Login"}),e.jsxs(l,{variant:"body2",align:"center",sx:{marginTop:2},children:["Don't have an account?"," ",e.jsx(l,{component:"span",sx:{color:"blue",cursor:"pointer"},onClick:()=>c("/register"),children:"Create one"})]})]})})]})};export{L as default};
